<link id="theme" rel="stylesheet" href="stylesheets/{{theme}}.css"/>
<script src="javascripts/clientscript.js"></script>

<div class="login">
    <h3>SDIM Login</h3>
    <div class="row">
        <div class="large-centered columns">
            <div class="row collapse">
                <div class="small-10 columns">
                    <input type="password" id="password" placeholder="passphrase" autofocus>
                </div>
                <div class="small-2 columns">
                    <a id="login_button" class="button postfix">login</a>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $("#login_button").click(function (e) {
            submitPassphrase();
        });
        $("#password").keypress(function (e) {
            if (e.keyCode === 13) {
                submitPassphrase();
            }
        });
        function submitPassphrase() {
            makeAjaxCall("POST", {pp: $("#password").val()}, "/login", function (data) {
                alert(data.responseText);
            }, function () {
                window.location.replace("/");
            });
        }
    });
</script>